# üì± –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ Native Module —Å Codegen

## üéØ –û–±–∑–æ—Ä

–ú—ã —Å–æ–∑–¥–∞–ª–∏ –Ω–∞—Ç–∏–≤–Ω—ã–π –º–æ–¥—É–ª—å `NativeCalculator` –¥–ª—è iOS, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É React Native Turbo Modules –∏ —Å–∏—Å—Ç–µ–º—ã Codegen. –≠—Ç–æ—Ç –º–æ–¥—É–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É JavaScript –∏ –Ω–∞—Ç–∏–≤–Ω—ã–º –∫–æ–¥–æ–º.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Matthew3dgNewArcTest/
‚îú‚îÄ‚îÄ specs/
‚îÇ   ‚îî‚îÄ‚îÄ NativeCalculator.ts          # TypeScript —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îú‚îÄ‚îÄ ios/
‚îÇ   ‚îú‚îÄ‚îÄ NativeCalculator/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RCTNativeCalculator.h    # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RCTNativeCalculator.mm   # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è iOS
‚îÇ   ‚îî‚îÄ‚îÄ build/generated/ios/         # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã
‚îÇ       ‚îú‚îÄ‚îÄ NativeCalculatorSpec.h   # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª
‚îÇ       ‚îî‚îÄ‚îÄ NativeCalculatorSpecJSI.h # JSI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ App.tsx                          # UI –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îî‚îÄ‚îÄ package.json                     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Codegen
```

---

## üîÑ –°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã Codegen –∏ Turbo Modules

### 1Ô∏è‚É£ **TypeScript —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è** (`specs/NativeCalculator.ts`)

```typescript
export interface Spec extends TurboModule {
  add(a: number, b: number): number;
  multiply(a: number, b: number): number;
  factorial(n: number): Promise<number>;
  squareRoot(value: number, callback: (result: number) => void): void;
  getModuleInfo(): string;
}

export default TurboModuleRegistry.getEnforcing<Spec>('NativeCalculator');
```

**–ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

- –ú—ã –æ–ø–∏—Å—ã–≤–∞–µ–º **–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –º–æ–¥—É–ª—è –Ω–∞ TypeScript
- `TurboModule` - –±–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö Turbo Native Modules
- `TurboModuleRegistry.getEnforcing()` - —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –º–æ–¥—É–ª—å —Å –∏–º–µ–Ω–µ–º `'NativeCalculator'`
- TypeScript —Ç–∏–ø—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ –Ω–∞—Ç–∏–≤–Ω—ã–µ —Ç–∏–ø—ã —á–µ—Ä–µ–∑ Codegen

**–¢–∏–ø—ã –º–µ—Ç–æ–¥–æ–≤:**

- **–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ** (`add`, `multiply`): –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞–ø—Ä—è–º—É—é
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ** (`factorial`): –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç `Promise`
- **Callback** (`squareRoot`): –ø—Ä–∏–Ω–∏–º–∞—é—Ç —Ñ—É–Ω–∫—Ü–∏—é –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞

---

### 2Ô∏è‚É£ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Codegen** (`package.json`)

```json
"codegenConfig": {
  "name": "NativeCalculatorSpec",
  "type": "modules",
  "jsSrcsDir": "specs",
  "ios": {
    "modulesProvider": {
      "NativeCalculator": "RCTNativeCalculator"
    }
  }
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `name`: –ò–º—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤)
- `type`: `"modules"` - —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –º–æ–¥—É–ª—å (–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
- `jsSrcsDir`: –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å TypeScript —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è–º–∏
- `modulesProvider`: –°–≤—è–∑—å –º–µ–∂–¥—É JS –∏–º–µ–Ω–µ–º –º–æ–¥—É–ª—è –∏ –Ω–∞—Ç–∏–≤–Ω—ã–º –∫–ª–∞—Å—Å–æ–º
  - –ö–ª—é—á (`"NativeCalculator"`) - –∏–º—è –∏–∑ `TurboModuleRegistry.getEnforcing()`
  - –ó–Ω–∞—á–µ–Ω–∏–µ (`"RCTNativeCalculator"`) - –∏–º—è Objective-C –∫–ª–∞—Å—Å–∞

---

### 3Ô∏è‚É£ **–ü—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞ (Codegen)**

–ö–æ–≥–¥–∞ –º—ã –∑–∞–ø—É—Å–∫–∞–µ–º `pod install`, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–µ–µ:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ specs/NativeCalculator.ts   ‚îÇ  1. TypeScript —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    React Native Codegen     ‚îÇ  2. Codegen –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é
‚îÇ   (–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ pod)     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Ñ–∞–π–ª—ã:        ‚îÇ  3. –°–æ–∑–¥–∞–µ—Ç—Å—è –Ω–∞—Ç–∏–≤–Ω—ã–π –∫–æ–¥
‚îÇ  ‚Ä¢ NativeCalculatorSpec.h   ‚îÇ     - –ü—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è Objective-C
‚îÇ  ‚Ä¢ NativeCalculatorSpecJSI.h‚îÇ     - JSI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è C++
‚îÇ  ‚Ä¢ .mm —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏           ‚îÇ     - –ú–æ—Å—Ç –º–µ–∂–¥—É JS –∏ –Ω–∞—Ç–∏–≤–Ω—ã–º –∫–æ–¥–æ–º
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**

#### `NativeCalculatorSpec.h` (Objective-C –ø—Ä–æ—Ç–æ–∫–æ–ª)

```objc
@protocol NativeCalculatorSpec <RCTBridgeModule, RCTTurboModule>

- (NSNumber *)add:(double)a b:(double)b;
- (NSNumber *)multiply:(double)a b:(double)b;
- (void)factorial:(double)n
          resolve:(RCTPromiseResolveBlock)resolve
           reject:(RCTPromiseRejectBlock)reject;
- (void)squareRoot:(double)value
          callback:(RCTResponseSenderBlock)callback;
- (NSString *)getModuleInfo;

@end
```

Codegen **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç:

- `number` ‚Üí `double` / `NSNumber *`
- `string` ‚Üí `NSString *`
- `Promise<T>` ‚Üí `resolve` –∏ `reject` –±–ª–æ–∫–∏
- `callback` ‚Üí `RCTResponseSenderBlock`

#### `NativeCalculatorSpecJSI.h` (C++ JSI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)

```cpp
class NativeCalculatorCxxSpecJSI : public TurboModule {
  virtual double add(jsi::Runtime &rt, double a, double b) = 0;
  virtual double multiply(jsi::Runtime &rt, double a, double b) = 0;
  virtual jsi::Value factorial(jsi::Runtime &rt, double n) = 0;
  // ...
};
```

**JSI (JavaScript Interface)** - —ç—Ç–æ –ø—Ä—è–º–æ–π –º–æ—Å—Ç –º–µ–∂–¥—É JavaScript –∏ C++, –∫–æ—Ç–æ—Ä—ã–π:

- –†–∞–±–æ—Ç–∞–µ—Ç **—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ** –±–µ–∑ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ JSON
- –ò–º–µ–µ—Ç **–Ω–∏–∑–∫—É—é –∑–∞–¥–µ—Ä–∂–∫—É** –≤—ã–∑–æ–≤–æ–≤
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–ø—Ä—è–º—É—é —Ä–∞–±–æ—Ç–∞—Ç—å —Å JavaScript –æ–±—ä–µ–∫—Ç–∞–º–∏ –∏–∑ C++

---

### 4Ô∏è‚É£ **iOS —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è** (`RCTNativeCalculator.mm`)

```objc
@interface RCTNativeCalculator : NSObject <NativeCalculatorSpec>
@end

@implementation RCTNativeCalculator

// –°–≤—è–∑—É—é—â–∏–π –º–µ—Ç–æ–¥ –¥–ª—è Turbo Module
- (std::shared_ptr<facebook::react::TurboModule>)getTurboModule:
    (const facebook::react::ObjCTurboModule::InitParams &)params {
  return std::make_shared<facebook::react::NativeCalculatorSpecJSI>(params);
}

// –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–æ–≤
// ‚ö†Ô∏è –í–ê–ñ–ù–û: –í–æ–∑–≤—Ä–∞—â–∞–µ–º NSNumber *, –ù–ï double!
- (NSNumber *)add:(double)a b:(double)b {
  return @(a + b);  // @() –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç double –≤ NSNumber
}

// ...

@end
```

‚ö†Ô∏è **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ:** –°–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤ –¥–æ–ª–∂–Ω—ã **—Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å** —Å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º!

- TypeScript `number` ‚Üí Objective-C `NSNumber *` (–¥–ª—è return type)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `@()` –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è: `@(result)`

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**

1. **`getTurboModule:`** - –≥–ª–∞–≤–Ω—ã–π —Å–≤—è–∑—É—é—â–∏–π –º–µ—Ç–æ–¥

   - –°–æ–∑–¥–∞–µ—Ç `NativeCalculatorSpecJSI` (—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Codegen)
   - –≠—Ç–æ—Ç –æ–±—ä–µ–∫—Ç —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—ã–∑–æ–≤–∞–º–∏ –º–µ–∂–¥—É JS –∏ –Ω–∞—Ç–∏–≤–Ω—ã–º –∫–æ–¥–æ–º
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –º–æ–¥—É–ª—é

2. **–¢–∏–ø—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π:**

   - –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã: –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞–ø—Ä—è–º—É—é (`double`, `NSString*`)
   - Promise: –∏—Å–ø–æ–ª—å–∑—É—é—Ç `resolve` –∏ `reject` –±–ª–æ–∫–∏
   - Callback: –∏—Å–ø–æ–ª—å–∑—É—é—Ç `RCTResponseSenderBlock`

3. **`+ (NSString *)moduleName`**
   - –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∏–º—è –º–æ–¥—É–ª—è –≤ React Native
   - –î–æ–ª–∂–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –∏–º–µ–Ω–µ–º –≤ `TurboModuleRegistry.getEnforcing()`

---

## üîÑ –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `NativeCalculator.add(5, 3)`:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 1. JavaScript (App.tsx)                                      ‚îÇ
‚îÇ    const sum = NativeCalculator.add(5, 3);                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
                     ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 2. TurboModuleRegistry                                       ‚îÇ
‚îÇ    - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –º–æ–¥—É–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç                       ‚îÇ
‚îÇ    - –ù–∞—Ö–æ–¥–∏—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π 'NativeCalculator'          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
                     ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 3. JSI Bridge (NativeCalculatorSpecJSI)                     ‚îÇ
‚îÇ    - –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç JavaScript –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ C++ —Ç–∏–ø—ã:           ‚îÇ
‚îÇ      jsi::Value(5) ‚Üí double(5.0)                            ‚îÇ
‚îÇ      jsi::Value(3) ‚Üí double(3.0)                            ‚îÇ
‚îÇ    - –í—ã–∑—ã–≤–∞–µ—Ç –Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ —á–µ—Ä–µ–∑ JSI                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
                     ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 4. Objective-C++ (RCTNativeCalculator.mm)                   ‚îÇ
‚îÇ    - (double)add:(double)a b:(double)b {                    ‚îÇ
‚îÇ        NSLog(@"add called with a=%f, b=%f", a, b);          ‚îÇ
‚îÇ        return a + b;  // 8.0                                ‚îÇ
‚îÇ    }                                                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
                     ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 5. –û–±—Ä–∞—Ç–Ω–æ —á–µ—Ä–µ–∑ JSI                                         ‚îÇ
‚îÇ    - double(8.0) ‚Üí jsi::Value(8)                            ‚îÇ
‚îÇ    - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ JavaScript                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
                     ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 6. JavaScript –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç                             ‚îÇ
‚îÇ    sum = 8                                                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~10-50 –º–∏–∫—Ä–æ—Å–µ–∫—É–Ω–¥ (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞)

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å Legacy Bridge:**

- **Legacy Bridge**: JS ‚Üí JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí Native Thread ‚Üí JSON –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí –º–µ—Ç–æ–¥ ‚Üí —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí JS
- **Turbo Module + JSI**: JS ‚Üí JSI (–ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤) ‚Üí –º–µ—Ç–æ–¥ ‚Üí JSI ‚Üí JS
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ:** 2-10x –±—ã—Å—Ç—Ä–µ–µ

---

## üîç –¢–∏–ø—ã –º–µ—Ç–æ–¥–æ–≤ –≤ –¥–µ—Ç–∞–ª—è—Ö

### 1Ô∏è‚É£ –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã

**TypeScript:**

```typescript
add(a: number, b: number): number;
```

**Objective-C:**

```objc
- (double)add:(double)a b:(double)b {
  return a + b;
}
```

**JavaScript –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```javascript
const result = NativeCalculator.add(5, 3); // 8
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
- ‚úÖ –ë–ª–æ–∫–∏—Ä—É—é—Ç JS thread –Ω–∞ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- ‚ö†Ô∏è –ù–µ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (> 16ms)

---

### 2Ô∏è‚É£ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã (Promise)

**TypeScript:**

```typescript
factorial(n: number): Promise<number>;
```

**Objective-C:**

```objc
- (void)factorial:(double)n
          resolve:(RCTPromiseResolveBlock)resolve
           reject:(RCTPromiseRejectBlock)reject {
  if (n < 0) {
    reject(@"INVALID_INPUT", @"Negative numbers not allowed", nil);
    return;
  }

  long long result = 1;
  for (NSInteger i = 2; i <= (NSInteger)n; i++) {
    result *= i;
  }

  resolve(@(result));
}
```

**JavaScript –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```javascript
try {
  const result = await NativeCalculator.factorial(5); // 120
  console.log(result);
} catch (error) {
  console.error(error.message);
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ –ù–µ –±–ª–æ–∫–∏—Ä—É—é—Ç JS thread
- ‚úÖ –ú–æ–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ —á–µ—Ä–µ–∑ `reject`
- ‚úÖ –ò–¥–µ–∞–ª—å–Ω—ã –¥–ª—è –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- üìù –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—à–∏–±–∫–∏: `(code, message, error)`

---

### 3Ô∏è‚É£ –ú–µ—Ç–æ–¥—ã —Å Callback

**TypeScript:**

```typescript
squareRoot(value: number, callback: (result: number) => void): void;
```

**Objective-C:**

```objc
- (void)squareRoot:(double)value callback:(RCTResponseSenderBlock)callback {
  if (value < 0) {
    callback(@[@(NAN)]);
    return;
  }

  double result = sqrt(value);
  callback(@[@(result)]); // –í—Å–µ–≥–¥–∞ –º–∞—Å—Å–∏–≤!
}
```

**JavaScript –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```javascript
NativeCalculator.squareRoot(16, result => {
  console.log(result); // 4
});
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚ö†Ô∏è Callback –≤—Å–µ–≥–¥–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç **–º–∞—Å—Å–∏–≤** –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ **–æ–¥–∏–Ω —Ä–∞–∑**
- üìù Legacy –ø–æ–¥—Ö–æ–¥, –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Promise

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

### –ö–∞–∫ React Native –Ω–∞—Ö–æ–¥–∏—Ç –Ω–∞—à –º–æ–¥—É–ª—å?

1. **package.json** —É–∫–∞–∑—ã–≤–∞–µ—Ç `modulesProvider`:

   ```json
   "NativeCalculator": "RCTNativeCalculator"
   ```

2. **Codegen** –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `RCTModuleProviders.mm`:

   ```objc
   - (NSArray<Class<RCTTurboModule>> *)getModuleClasses {
     return @[
       RCTNativeCalculator.class,
       // –¥—Ä—É–≥–∏–µ –º–æ–¥—É–ª–∏...
     ];
   }
   ```

3. **–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** React Native:

   - –°–∫–∞–Ω–∏—Ä—É–µ—Ç –≤—Å–µ –∫–ª–∞—Å—Å—ã –∏–∑ `getModuleClasses`
   - –í—ã–∑—ã–≤–∞–µ—Ç `[RCTNativeCalculator moduleName]` ‚Üí `"NativeCalculator"`
   - –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –º–æ–¥—É–ª—å –≤ `TurboModuleRegistry`

4. **–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ** –∏–∑ JavaScript:
   - `TurboModuleRegistry.getEnforcing('NativeCalculator')`
   - –°–æ–∑–¥–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä `RCTNativeCalculator`
   - –í—ã–∑—ã–≤–∞–µ—Ç `getTurboModule:` ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSI binding
   - –ö—ç—à–∏—Ä—É–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä (singleton)

---

## üé® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Turbo Modules + Codegen

### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–∏–ø–æ–≤

- TypeScript —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- Codegen –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–∞—Ç–∏–≤–Ω—ã–µ —Ç–∏–ø—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥ —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

### ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- JSI –æ–±—Ö–æ–¥–∏—Ç Legacy Bridge
- –ù–µ—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ JSON
- –ü—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã –º–µ–∂–¥—É JS –∏ Native

### üîß –£–¥–æ–±—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

- –û–¥–Ω–∞ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è ‚Üí –∫–æ–¥ –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è boilerplate –∫–æ–¥–∞
- TypeScript –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ IDE

### üì¶ –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

- –ú–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
- –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ú–µ–Ω—å—à–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏

---

## üîç –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ iOS

```objc
NSLog(@"[NativeCalculator] add called with a=%f, b=%f", a, b);
```

–í Xcode Console –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
[NativeCalculator] add called with a=5.000000, b=3.000000
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ JavaScript

```javascript
console.log('[JS] Add result:', sum);
```

–í Metro Bundler –∏–ª–∏ React Native Debugger:

```
[JS] Add result: 8
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –º–æ–¥—É–ª—è

```javascript
import { NativeModules } from 'react-native';
console.log('Available modules:', Object.keys(NativeModules));
// –î–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∞—Ç—å 'NativeCalculator'
```

---

## üöÄ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –º–æ–¥—É–ª—è

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –º–µ—Ç–æ–¥–∞

1. –û–±–Ω–æ–≤–∏—Ç–µ TypeScript —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é:

```typescript
divide(a: number, b: number): Promise<number>;
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `pod install` (Codegen –æ–±–Ω–æ–≤–∏—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª)

3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ –≤ `.mm`:

```objc
- (void)divide:(double)a
             b:(double)b
       resolve:(RCTPromiseResolveBlock)resolve
        reject:(RCTPromiseRejectBlock)reject {
  if (b == 0) {
    reject(@"DIVISION_BY_ZERO", @"Cannot divide by zero", nil);
    return;
  }
  resolve(@(a / b));
}
```

4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ JavaScript:

```javascript
const result = await NativeCalculator.divide(10, 2); // 5
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞    | Legacy Bridge    | Turbo Modules        |
| ----------------- | ---------------- | -------------------- |
| –í—Ä–µ–º—è –≤—ã–∑–æ–≤–∞      | 100-500 Œºs       | 10-50 Œºs             |
| –¢–∏–ø—ã              | Runtime –ø—Ä–æ–≤–µ—Ä–∫–∞ | Compile-time         |
| –ó–∞–≥—Ä—É–∑–∫–∞          | –í—Å–µ —Å—Ä–∞–∑—É        | Lazy (–ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é) |
| –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã | ‚ùå –°–ª–æ–∂–Ω–æ        | ‚úÖ –õ–µ–≥–∫–æ             |
| Codegen           | ‚ùå –ù–µ—Ç           | ‚úÖ –î–∞                |
| –ë—É–¥—É—â–µ–µ           | Deprecated       | ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è    |

---

## üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### ‚úÖ DO (–î–µ–ª–∞–π—Ç–µ)

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ TypeScript –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π
- –î–µ–ª–∞–π—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∫–æ—Ä–æ—Ç–∫–∏–º–∏ (< 16ms)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Promise –¥–ª—è –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –õ–æ–≥–∏—Ä—É–π—Ç–µ –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å

### ‚ùå DON'T (–ù–µ –¥–µ–ª–∞–π—Ç–µ)

- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –≤—ã–∑—ã–≤–∞—Ç—å `resolve` –∏–ª–∏ `reject` –≤ Promise
- –ù–µ –∏–∑–º–µ–Ω—è–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤—Ä—É—á–Ω—É—é
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–æ–∂–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (–ª—É—á—à–µ —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ JSON)

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [React Native Turbo Modules](https://reactnative.dev/docs/turbo-native-modules-introduction)
- [JSI Documentation](https://reactnative.dev/architecture/glossary#javascript-interfaces-jsi)
- [Codegen Types](https://reactnative.dev/docs/next/new-architecture-appendix#typescript)

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í—ã —Å–æ–∑–¥–∞–ª–∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π Turbo Native Module —Å:

- ‚úÖ TypeScript —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∫–æ–¥–∞ —á–µ—Ä–µ–∑ Codegen
- ‚úÖ iOS —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –Ω–∞ Objective-C++
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–º UI –≤ React Native
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∏ callback –º–µ—Ç–æ–¥–æ–≤

–≠—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞—Ç–∏–≤–Ω—ã—Ö –º–æ–¥—É–ª–µ–π –≤ React Native!
